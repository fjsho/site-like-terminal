<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Terminal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .terminal-container {
            width: 100%;
            max-width: 900px;
            background: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .terminal-header {
            background: linear-gradient(180deg, #504b45 0%, #3c3836 100%);
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .terminal-buttons {
            display: flex;
            gap: 8px;
        }

        .terminal-button {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .terminal-button:hover {
            transform: scale(1.1);
        }

        .terminal-button.close {
            background: #ff5f56;
        }

        .terminal-button.minimize {
            background: #ffbd2e;
        }

        .terminal-button.maximize {
            background: #27c93f;
        }

        .terminal-title {
            flex: 1;
            text-align: center;
            color: #d4d4d4;
            font-size: 13px;
            font-weight: 500;
        }

        .terminal-body {
            background: #1e1e1e;
            padding: 20px;
            height: 500px;
            overflow-y: auto;
            position: relative;
        }

        .terminal-body::-webkit-scrollbar {
            width: 10px;
        }

        .terminal-body::-webkit-scrollbar-track {
            background: #2e2e2e;
        }

        .terminal-body::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 5px;
        }

        .terminal-body::-webkit-scrollbar-thumb:hover {
            background: #666;
        }

        .terminal-output {
            color: #d4d4d4;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .terminal-line {
            margin: 2px 0;
            display: flex;
            align-items: center;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .prompt {
            color: #98c379;
            font-weight: bold;
            margin-right: 8px;
        }

        .command {
            color: #61afef;
        }

        .output {
            color: #abb2bf;
        }

        .error {
            color: #e06c75;
        }

        .success {
            color: #98c379;
        }

        .warning {
            color: #e5c07b;
        }

        .info {
            color: #56b6c2;
        }

        .terminal-input-line {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .terminal-input {
            background: transparent;
            border: none;
            color: #d4d4d4;
            font-family: inherit;
            font-size: 14px;
            outline: none;
            flex: 1;
            caret-color: #98c379;
        }

        .cursor {
            display: inline-block;
            width: 8px;
            height: 16px;
            background: #98c379;
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        @keyframes blink {
            0%, 50% {
                opacity: 1;
            }
            51%, 100% {
                opacity: 0;
            }
        }

        .ascii-art {
            color: #56b6c2;
            font-size: 12px;
            line-height: 1.2;
            margin: 10px 0;
        }

        .help-text {
            color: #868e96;
            font-size: 13px;
            margin: 5px 0;
        }

        .directory {
            color: #61afef;
            font-weight: bold;
        }

        .file {
            color: #d4d4d4;
        }

        .executable {
            color: #98c379;
        }
    </style>
</head>
<body>
    <div class="terminal-container">
        <div class="terminal-header">
            <div class="terminal-buttons">
                <button class="terminal-button close"></button>
                <button class="terminal-button minimize"></button>
                <button class="terminal-button maximize"></button>
            </div>
            <div class="terminal-title">user@localhost:~</div>
        </div>
        <div class="terminal-body" id="terminal-body">
            <div class="terminal-output" id="terminal-output">
                <div class="ascii-art">
 ╔══════════════════════════════════════════╗
 ║  Web Terminal Emulator v1.0.0            ║
 ║  Type 'help' for available commands      ║
 ╚══════════════════════════════════════════╝
                </div>
                <div class="terminal-line">
                    <span class="success">Welcome to Web Terminal!</span>
                </div>
                <div class="terminal-line">
                    <span class="info">System ready. Type commands below.</span>
                </div>
            </div>
            <div class="terminal-input-line">
                <span class="prompt">user@localhost:~$</span>
                <input type="text" class="terminal-input" id="terminal-input" autofocus>
                <span class="cursor"></span>
            </div>
        </div>
    </div>

    <script>
        const terminalInput = document.getElementById('terminal-input');
        const terminalOutput = document.getElementById('terminal-output');
        const terminalBody = document.getElementById('terminal-body');
        
        let commandHistory = [];
        let historyIndex = -1;
        
        const commands = {
            help: {
                description: 'Show available commands',
                execute: () => {
                    return `
<span class="success">Available Commands:</span>
  <span class="command">help</span>     - Show this help message
  <span class="command">clear</span>    - Clear the terminal screen
  <span class="command">date</span>     - Display current date and time
  <span class="command">echo</span>     - Display a message
  <span class="command">ls</span>       - List directory contents
  <span class="command">pwd</span>      - Print working directory
  <span class="command">whoami</span>   - Display current user
  <span class="command">cat</span>      - Display file contents
  <span class="command">mkdir</span>    - Create a directory
  <span class="command">touch</span>    - Create a file
  <span class="command">rm</span>       - Remove files
  <span class="command">cd</span>       - Change directory
  <span class="command">history</span>  - Show command history
  <span class="command">neofetch</span> - Display system information
  <span class="command">exit</span>     - Close the terminal`;
                }
            },
            clear: {
                description: 'Clear the terminal',
                execute: () => {
                    terminalOutput.innerHTML = '';
                    return null;
                }
            },
            date: {
                description: 'Show current date and time',
                execute: () => {
                    const now = new Date();
                    return `<span class="info">${now.toLocaleString('ja-JP', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    })}</span>`;
                }
            },
            echo: {
                description: 'Display a message',
                execute: (args) => {
                    return args.join(' ') || '';
                }
            },
            ls: {
                description: 'List directory contents',
                execute: () => {
                    return `<span class="directory">Documents/</span>  <span class="directory">Downloads/</span>  <span class="directory">Pictures/</span>  <span class="directory">Videos/</span>
<span class="file">README.md</span>  <span class="executable">script.sh</span>  <span class="file">config.json</span>  <span class="file">notes.txt</span>`;
                }
            },
            pwd: {
                description: 'Print working directory',
                execute: () => {
                    return '<span class="info">/home/user</span>';
                }
            },
            whoami: {
                description: 'Display current user',
                execute: () => {
                    return '<span class="info">user</span>';
                }
            },
            cat: {
                description: 'Display file contents',
                execute: (args) => {
                    if (!args[0]) {
                        return '<span class="error">cat: missing file operand</span>';
                    }
                    if (args[0] === 'README.md') {
                        return `<span class="output"># Web Terminal Project
This is a web-based terminal emulator built with HTML, CSS, and JavaScript.
Feel free to explore and use the available commands!</span>`;
                    }
                    return `<span class="error">cat: ${args[0]}: No such file or directory</span>`;
                }
            },
            mkdir: {
                description: 'Create a directory',
                execute: (args) => {
                    if (!args[0]) {
                        return '<span class="error">mkdir: missing operand</span>';
                    }
                    return `<span class="success">Directory '${args[0]}' created successfully</span>`;
                }
            },
            touch: {
                description: 'Create a file',
                execute: (args) => {
                    if (!args[0]) {
                        return '<span class="error">touch: missing file operand</span>';
                    }
                    return `<span class="success">File '${args[0]}' created successfully</span>`;
                }
            },
            rm: {
                description: 'Remove files',
                execute: (args) => {
                    if (!args[0]) {
                        return '<span class="error">rm: missing operand</span>';
                    }
                    return `<span class="warning">File '${args[0]}' removed</span>`;
                }
            },
            cd: {
                description: 'Change directory',
                execute: (args) => {
                    if (!args[0] || args[0] === '~') {
                        return '<span class="info">Changed to home directory</span>';
                    }
                    return `<span class="info">Changed directory to ${args[0]}</span>`;
                }
            },
            history: {
                description: 'Show command history',
                execute: () => {
                    if (commandHistory.length === 0) {
                        return '<span class="info">No commands in history</span>';
                    }
                    return commandHistory.map((cmd, index) => 
                        `<span class="output">  ${index + 1}  ${cmd}</span>`
                    ).join('\n');
                }
            },
            neofetch: {
                description: 'Display system information',
                execute: () => {
                    return `<span class="info">
       _____       <span class="output">user@localhost</span>
      /     \\      <span class="output">--------------</span>
     /  ^ ^  \\     <span class="success">OS:</span> Web OS 1.0
    |   > <   |    <span class="success">Host:</span> Browser Terminal
    |   ___   |    <span class="success">Kernel:</span> JavaScript ES6
     \\_____/      <span class="success">Uptime:</span> ${Math.floor(Math.random() * 100)} hours
                   <span class="success">Shell:</span> web-bash 5.0
                   <span class="success">Terminal:</span> WebTerm v1.0
                   <span class="success">CPU:</span> Intel Core i7
                   <span class="success">Memory:</span> 16GB RAM
</span>`;
                }
            },
            exit: {
                description: 'Exit the terminal',
                execute: () => {
                    return '<span class="warning">Goodbye! Terminal session ended.</span>';
                }
            }
        };
        
        terminalInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                const input = terminalInput.value.trim();
                
                if (input) {
                    commandHistory.push(input);
                    historyIndex = commandHistory.length;
                    
                    // Add command to output
                    const commandLine = document.createElement('div');
                    commandLine.className = 'terminal-line';
                    commandLine.innerHTML = `<span class="prompt">user@localhost:~$</span> <span class="command">${input}</span>`;
                    terminalOutput.appendChild(commandLine);
                    
                    // Process command
                    const [cmd, ...args] = input.split(' ');
                    
                    if (commands[cmd]) {
                        const output = commands[cmd].execute(args);
                        if (output) {
                            const outputLine = document.createElement('div');
                            outputLine.className = 'terminal-line';
                            outputLine.innerHTML = output;
                            terminalOutput.appendChild(outputLine);
                        }
                    } else if (input !== '') {
                        const errorLine = document.createElement('div');
                        errorLine.className = 'terminal-line';
                        errorLine.innerHTML = `<span class="error">bash: ${cmd}: command not found</span>`;
                        terminalOutput.appendChild(errorLine);
                    }
                    
                    terminalInput.value = '';
                    terminalBody.scrollTop = terminalBody.scrollHeight;
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    terminalInput.value = commandHistory[historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    terminalInput.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    terminalInput.value = '';
                }
            } else if (e.ctrlKey && e.key === 'l') {
                e.preventDefault();
                terminalOutput.innerHTML = '';
            }
        });
        
        // Keep focus on input
        terminalBody.addEventListener('click', () => {
            terminalInput.focus();
        });
        
        // Window control buttons
        document.querySelector('.terminal-button.close').addEventListener('click', () => {
            document.querySelector('.terminal-container').style.display = 'none';
        });
        
        document.querySelector('.terminal-button.minimize').addEventListener('click', () => {
            terminalBody.style.display = terminalBody.style.display === 'none' ? 'block' : 'none';
        });
        
        document.querySelector('.terminal-button.maximize').addEventListener('click', () => {
            const container = document.querySelector('.terminal-container');
            if (container.style.width === '100vw') {
                container.style.width = '100%';
                container.style.maxWidth = '900px';
                container.style.height = 'auto';
                terminalBody.style.height = '500px';
            } else {
                container.style.width = '100vw';
                container.style.maxWidth = '100vw';
                container.style.height = '100vh';
                terminalBody.style.height = 'calc(100vh - 44px)';
            }
        });
    </script>
</body>
</html>